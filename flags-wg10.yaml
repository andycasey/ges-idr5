# All flags taken from WG14 dictionary for GES iDR5:
# https://docs.google.com/spreadsheets/d/1rpgi2MC41iu8nkvfZfK0KMWp_GH1xI4RvK3SSLRL43g/edit#gid=1224142251


# Anything matching the propagate_flags_by_spectrum (when used as a PostgreSQL 
# `LIKE` query, e.g.: "TECH LIKE '%{spectrum_related_flag}-%'") will be 
# propagated to other results that use (any part of) the same spectrum. For 
# example, specifying '10100' will search for TECH entries matching '%10100-%' 
# (the dash - is included for you)


# Anything matching these flags will cause us to mark that particular node 
# result as being suspicious, and won't get used in homogenisation.
node_specific_flags:
  no_constraint:
    - 10010-10 # No results or inaccurate results: SNR < 10 for at least one setting
    - 10050-10 # No results or inaccurate results: SNR < 50 for at least one setting
    - 10153-10 # Discrepant radial velocities (use suffix to specify the threshold; e.g., |RV_max-RV_min| > 5*err_RV )
    - 10302-10 # Code convergence issue: one of more convergence criteria (node-specific) could not be fulfilled. Criteria to be described using the suffix
    - 10308-10 # One or more parameter (which could not be identified) outside the node's grid; if possible rather use 10303-10307 flags
    - 10399-10 # No parameters provided because of lack of time
    - 13020-10 # Suspicious stellar parameters because temperature (Teff) is on the node's grid edge. Conditions to be described using the suffix
    - 13021-10 # Suspicious stellar parameters because gravity (log g) is on the node's grid edge. Conditions to be described using the suffix
    - 13022-10 # Suspicious stellar parameters because metallicity ([M/H] or [Fe/H]) is on the node's grid edge. Conditions to be described using the suffix

# Anything matching these flags will cause us to mark all results from that
# CNAME as being suspicious, and won't get used in homogenisation.
# NOTE: If you have time, you should actually look to see what effect this has
#       on the individual nodes, because some will be able to handle these
#       conditions while others will not, so you may be throwing away data!
propagate_flags_by_cname:
  no_constraint:
    # - 11100 # v*sin(i) too high, preventing the determination of some/all parameters: v*sin(i) > 100 km/s
    # - 11150 # v*sin(i) too high, preventing the determination of some/all parameters: v*sin(i) > 150 km/s
    # - 11200 # v*sin(i) too high, preventing the determination of some/all parameters: v*sin(i) > 200 km/s
    # - 11250 # v*sin(i) too high, preventing the determination of some/all parameters: v*sin(i) > 250 km/s
    # - 11300 # v*sin(i) too high, preventing the determination of some/all parameters: v*sin(i) > 300 km/s
    # - 13002 # Microturbulence: 2 km/s < vtur
    # - 13003 # Microturbulence: 3 km/s < vtur
    # - 13010 # Microturbulence: 10 km/s < vtur
    - 10320 # Incomplete/missing set of parameters because of suspected multiple stellar system
    - 13027 # Suspicious stellar parameters: multiple system. /!\ Raise also the relevant flags from 20005 to 20070
    - 20020 # SB2